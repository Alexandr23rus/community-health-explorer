{% assign id = include.row.Indicator | slugify %}
<div id="chart-{{ id }}" class="ct-chart ct-minor-seventh"></div>
<script>
(function () {
  var container = '#chart-{{ id }}'
  var labels = {{ include.labels | jsonify }}
  var row = {{ include.row | jsonify }}

  // Construct array of objects from data using indicators
  var series = labels.map(function (col) {
    return row[col] || null
  })
  var chartData = {
    labels: labels,
    series: [series]
  }
  var chartOpts = {
    lineSmooth: Chartist.Interpolation.cardinal({
      fillHoles: true,
    }),
    plugins: [
      Chartist.plugins.tooltip({
        class: 'chartist-tooltip',
      })
//      Chartist.plugins.ctAccessibility({
//        caption: 'Fiscal year 2015',
//        seriesHeader: 'business numbers',
//        summary: 'A graphic that shows the business numbers of the fiscal year 2015',
//        valueTransform: function(value) {
//          return value + ' dollar';
//        }
//      })
    ],
    showArea: true
  }
  new Chartist.Line(container, chartData, chartOpts)
})()
</script>